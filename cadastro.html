<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cadastro de Pessoas</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f5f5f5;
      padding: 20px;
    }
    form {
      background: white;
      padding: 25px;
      border-radius: 10px;
      max-width: 400px;
      margin: auto;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    }
    h2 {
      margin-bottom: 15px;
    }
    label {
      font-weight: bold;
      display: block;
      margin: 15px 0 8px;
    }
    input[type="text"],
    input[type="email"] {
      width: 100%;
      padding: 8px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .checkbox-group {
      margin: 5px 0 15px;
    }
    .checkbox-group label {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin: 5px 0;
      font-weight: normal;
    }
    button {
      background: #28a745;
      color: white;
      border: none;
      padding: 12px;
      border-radius: 5px;
      margin-top: 20px;
      width: 100%;
      cursor: pointer;
      font-size: 16px;
    }
    button:hover {
      background: #218838;
    }
	form {
	  display: flex;
	  flex-direction: column;
	  gap: 5px;
	}

	form label {
	  font-weight: bold;
	  margin-bottom: 5px;
	}

	form input[type="text"],
	form input[type="email"],
	form input[type="date"],
	form input[type="tel"] {
	  width: 100%;
	  padding: 8px;
	  border: 1px solid #ccc;
	  border-radius: 5px;
	  box-sizing: border-box; /* ðŸ”¥ isso corrige a margem desigual */
	}

  </style>
</head>
<body>

	<form id="cadastroForm">
	  <h2>Cadastro</h2>

	  <label for="nome">Nome Completo:</label>
	  <input type="text" id="nome" required>

	  <label for="cpf">CPF:</label>
	  <input type="text" id="cpf" maxlength="14" placeholder="000.000.000-00" required>

	  <label for="celular">Celular:</label>
	  <input type="text" id="celular" placeholder="(xx)xxxxx-xxxx" required>

	  <label for="nascimento">Data de Nascimento:</label>
	  <input type="text" id="nascimento" placeholder="dd/mm/aaaa" required>

	  <label for="email">Email:</label>
	  <input type="email" id="email" required>

	  <label>Sexo:</label>
	  <div class="checkbox-group">
		<label><input type="radio" name="sexo" value="Masculino" required> Masculino</label><br>
		<label><input type="radio" name="sexo" value="Feminino" required> Feminino</label>
	  </div>

	  <label>Valor:</label>
	  <div class="checkbox-group">
		<label><input type="radio" name="mensalidade" value="R$65,00" required> R$65,00</label><br>
		<label><input type="radio" name="mensalidade" value="R$80,00" required> R$80,00</label>
	  </div>

	  <label>Forma de pagamento:</label>
	  <div class="checkbox-group">
		<label><input type="radio" name="pagamento" value="Dinheiro" required> Dinheiro</label><br>
		<label><input type="radio" name="pagamento" value="Pix" required> Pix</label>
	  </div>

	  <button type="submit">Enviar pelo WhatsApp</button>
	  <button onclick="window.location.href='index.html'">Voltar</button>
	</form>


  <script>
    // MÃ¡scara CPF
    document.getElementById("cpf").addEventListener("input", function(e) {
      let v = e.target.value.replace(/\D/g, "");
      v = v.replace(/(\d{3})(\d)/, "$1.$2");
      v = v.replace(/(\d{3})(\d)/, "$1.$2");
      v = v.replace(/(\d{3})(\d{1,2})$/, "$1-$2");
      e.target.value = v;
    });

    // MÃ¡scara celular
    document.getElementById("celular").addEventListener("input", function(e) {
      let v = e.target.value.replace(/\D/g, "");
      v = v.replace(/^(\d{2})(\d)/g, "($1)$2");
      v = v.replace(/(\d{5})(\d)/, "$1-$2");
      e.target.value = v;
    });

    // MÃ¡scara data
    document.getElementById("nascimento").addEventListener("input", function(e) {
      let v = e.target.value.replace(/\D/g, "");
      v = v.replace(/(\d{2})(\d)/, "$1/$2");
      v = v.replace(/(\d{2})(\d)/, "$1/$2");
      v = v.replace(/(\d{4})(\d)/, "$1");
      e.target.value = v;
    });

    // ValidaÃ§Ã£o de CPF
    function validarCPF(cpf) {
      cpf = cpf.replace(/[^\d]+/g,'');
      if(cpf.length !== 11 || /^(\d)\1+$/.test(cpf)) return false;
      let soma = 0, resto;
      for (let i=1; i<=9; i++) soma += parseInt(cpf.substring(i-1,i))*(11-i);
      resto = (soma*10)%11;
      if((resto===10)||(resto===11)) resto=0;
      if(resto !== parseInt(cpf.substring(9,10))) return false;
      soma=0;
      for (let i=1; i<=10; i++) soma += parseInt(cpf.substring(i-1,i))*(12-i);
      resto = (soma*10)%11;
      if((resto===10)||(resto===11)) resto=0;
      if(resto !== parseInt(cpf.substring(10,11))) return false;
      return true;
    }

    document.getElementById("cadastroForm").addEventListener("submit", function(e){
      e.preventDefault();

      const nome = document.getElementById("nome").value.trim();
      const cpf = document.getElementById("cpf").value.trim();
      const celular = document.getElementById("celular").value.trim();
      const nascimento = document.getElementById("nascimento").value.trim();
      const email = document.getElementById("email").value.trim();
      const sexo = document.querySelector('input[name="sexo"]:checked');
      const mensalidade = document.querySelector('input[name="mensalidade"]:checked');
	  const pagamento = document.querySelector('input[name="pagamento"]:checked');
	  
	  if(!pagamento) {
	    alert("Selecione a forma de pagamento!");
	    return;
	  }

      if(!nome || !cpf || !celular || !nascimento || !email || !sexo || !mensalidade) {
        alert("Preencha todos os campos!");
        return;
      }

      if(!validarCPF(cpf)) {
        alert("CPF invÃ¡lido!");
        return;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if(!emailRegex.test(email)) {
        alert("Email invÃ¡lido!");
        return;
      }

      const mensagem = 
        `*Cadastro Novo:*\n\n` +
        `ðŸ‘¤ Nome: ${nome}\n` +
        `ðŸ†” CPF: ${cpf}\n` +
        `ðŸ“± Celular: ${celular}\n` +
        `ðŸŽ‚ Nascimento: ${nascimento}\n` +
        `ðŸ“§ Email: ${email}\n` +
        `âš§ Sexo: ${sexo.value}\n` +
        `ðŸ’° Mensalidade: ${mensalidade.value}` +
		`ðŸ’³ Forma de pagamento: ${pagamento.value}`;

      const telefone = "5524999522320"; 
      const url = `https://wa.me/${telefone}?text=${encodeURIComponent(mensagem)}`;
      window.open(url, "_blank");
    });
  </script>

</body>
</html>

